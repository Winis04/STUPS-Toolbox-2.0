\section{Build-Prozess}
Als Build-Prozess wird die automatische Erstellung eines fertigen, ausführbaren Programmes bezeichnet.
Bisher wurde dies über ein \textit{Makefile} umgesetzt. Dies hatte den Nachteil, dass das Ausführen nicht plattformunabhängig gewesen ist.
Außerdem war es unter Anderem auf Grund der externen Bibliotheken nicht möglich, eine JAR erstellen zu lassen.

Um plattformunabhängig zu entwickeln, wurde der Build-Prozess von \textit{Makefiles} auf \textit{Gradle} umgestellt. Gradle\footnote{\url{https://gradle.org/}} ist ein automatisches Build-Tool, welches plattformunabhängig ist. Dies erforderte einige Anpassungen des von SableCC erzeugten Codes.
  
  
\subsection{Gradle}\label{Gradle}
Als Build-Tool wurde sich für Gradle\footnote{\url{https://gradle.org/}} entschieden. Es ist plattformunabhängig und verfügt über die Möglichkeit mit \textit{Groovy}\footnote{\url{http://groovy-lang.org/}}  ausführbare Skripte zu erstellen, was im Folgenden wichtig wird.

Für die Umstellung musste zunächst der Aufbau der Packages angepasst werden. Gradle setzt
eine Trennung von Source-Code und Resourcen voraus.
Des Weiteren erwartet Gradle folgende Ordnersturktur: \\

\begin{minipage}[htbp]{\linewidth}
\begin{description}
\item[src]\hfill 
	\begin{description}
	\item[main] \hfill 
		\begin{description}
		\item[java] 
		\item[resource]
		\end{description}
	\item[test] \hfill 
		\begin{description}
			\item[java]
			\item[resource]
			\end{description}
		\end{description}
\end{description}
\end{minipage}\\

Es wurde außerdem ein weiterer Source-Ordner \textit{GeneratedSource} angelegt, der
die von Gradle generierten Dateien enthält.
Gradle sorgt dafür, dass alle benötigten Bibiliotheken heruntergeladen werden
und zum \textit{Java-Classpath} hinzugefügt werden.
Durch ein Plugin\footnote{\url{https://github.com/johnrengelman/shadow}} kann eine ausführbare .jar-Datei
erzeugt werden, die die importierten Bibliotheken enthält. Dies war vorher
nicht möglich.

\subsubsection{Gradle und SableCC}
Das Zusammenspiel von Gradle und SableCC gestaltete sich nicht einfach. SableCC
ist ein Parser-Generator, welcher von Etienne M. Gagnon entwickelt
wurde\footnote{\url{http://www.sablecc.org/}}. Durch SableCC werden Java-Dateien und Resourcen erzeugt. Leider vermischt SableCC diese.
 Dies hat zur Folge, dass diese Resourcen nicht mehr gefunden werden, da
auf diese mit \textit{getResource} zugegriffen wird und sie sich nicht im
Resource-Ordner befinden, wo Java die Dateien nach Umstellung auf Gradle sucht.

Es war also nötig, Groovy-Code \ref{lst:build} zu
schreiben, welcher nach dem Build-Prozess die benötigten Resourcen in Unterordner des Resource Ordner
von \textit{GeneratedSources} kopiert und anschließend die entsprechende
\textit{getResource} Zeilen auf diesen Unterordner anpasst.

\begin{figure}[htb]
\lstinputlisting[frame=single, basicstyle=\small, label=lst:build, caption=Gradle-SableCC-Workaround]{Code/build.gradle}
\end{figure}

Die Toolbox besitzt dabei folgenden Abhängigkeiten:
\begin{description}
	\item[JUNG2]\footnote{\url{http://jung.sourceforge.net/}}  Zur Darstellung von Automaten
	\item[JUnit 4]\footnote{\url{http://junit.org/junit4/}} Zum Testen von Code
	\item[Apache Commons-IO]\footnote{\url{http://commons.apache.org/proper/commons-io/}} Zum Bearbeiten von Ordner (wird für den Workspace gebraucht)
	\item[Reflections]\footnote{\url{https://github.com/ronmamo/reflections}} Erstellen von Objekten zur Laufzeit, auch in der .jar
	\item[SableCC]\footnote{\url{http://www.sablecc.org/}} Parser-Generator
	\item[Apache Commons Lang]\footnote{\url{https://commons.apache.org/proper/commons-lang/}}  Zum Überschreiben der \textit{equals} und \textit{hashCode}-Methoden
\end{description}

\subsubsection{Build}
Folgende Befehle sind durch die bereitgestellte ausführbare Gradle-Datei aufrufbar:
\begin{itemize}
\item gradle shadowJar \hfill \\
Erstellt eine ausführbare Jar in build/libs.
\item gradle sableCC \hfill \\
Startet SableCC und erstellt die notwendigen Parser. Dieser Befehl ist in dem Befehl \textit{build} enthalten.
\item gradle javadoc \hfill \\
Erstellt die Dokumentation.
\item gradle eclipse \hfill \\
Ermöglicht es, das Programm als Eclipse Projekt zu importieren
\item gradle idea \hfill \\
Ermöglicht es, das Programm als IntelliJ Projekt zu importieren
\item gradle build \hfill \\
Ein kompletter Build.
\end{itemize}
