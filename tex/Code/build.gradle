task doAdjustments() {
  doLast{
    new File("src/main/sablecc") . eachFile ( ) { file -> 
      String name = file.getName().split("\\.")[0]
      String contents = new File('generated-src/main/java/'+name+'/lexer/Lexer.java').getText( 'UTF-8' ) 
      contents = contents.replaceAll( 'lexer.dat', '/'+name+'/lexer.dat')
      new File( 'generated-src/main/java/'+name+'/lexer/Lexer.java' ).write( contents, 'UTF-8' )
    
      contents = new File('generated-src/main/java/'+name+'/parser/Parser.java').getText( 'UTF-8' ) 
      contents = contents.replaceAll( 'parser.dat', '/'+name+'/parser.dat')
      new File( 'generated-src/main/java/'+name+'/parser/Parser.java' ).write( contents, 'UTF-8' )
      copy {
        from 'generated-src/main/java/'+name+'/parser/parser.dat'
        into 'generated-src/main/resources/'+name
      }
      copy{
       from 'generated-src/main/java/'+name+'/lexer/lexer.dat'
       into 'generated-src/main/resources/'+name
      }
    }
  }
}