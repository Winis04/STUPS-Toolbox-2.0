\lstset{
	language=Java,
	breaklines=true,
	commentstyle=\color{orange},
	keywordstyle=\color{blue},
	stringstyle=\color{purple},
	rulecolor=\color{black}
}
\section{Benutzerebene}\raggedbottom
Viele der Änderung betreffen die Funktionalität der Toolbox und sind für den Benutzer direkt ersichtlich. Im Folgenden wird auf diese Änderungen auf Nutzerebene eingegangen. 
\subsection{GUI-Design}
Die Benutzeroberfläche (\textit{GUI}) ist modernisiert worden. Sie hat bunte Elemente erhalten, die sich per css-Stylesheet anpassen lassen.
Außerdem wurde vesucht, die Bedienung intuitiver zu gestalten.
Eine Abbildung der GUI findet sich in Abb. \ref{img:gui}. 
\paragraph{Aufbau}
Beim Design der GUI wurde sich an bekannten IDEs, wie zum Beispiel IntelliJ
Idea\footnote{\url{https://www.jetbrains.com/idea/}}, orientiert.
Im linken Teil der GUI befindet sich ein Baum mit drei Unterknoten: Grammar,
PushDownAutomaton (Kellerautomat) und Automaton.
Klappt man diese Unterknoten auf, erhält man eine Übersicht über alle momentan
gespeicherten Objekte dieses Types.
Eine Abbildung der GUI findet sich in Abb. \ref{img:gui}. 
\paragraph{Bedienung}
Über den Baum lassen sich die verschiedenen Objekte auswählen und werden im rechten Teil
dargestellt.
Im unteren rechten Teil befinden sich die ComplexFunctionPlugins. Diese arbeiten immer auf dem aktuell ausgewählten Typ
und sind über Tabs auswählbar.

Die SimpleFunctionPlugins lassen sich durch Rechtsklick auf das Objekt im Baum, auf
dem sie durchgeführt werden sollen, aufrufen.
Es gibt nun SimpleFunctionPlugins, die auf allen Objekten im Baum arbeiten. Hierzu gehören \textit{Print}, \textit{Rename} und \textit{Undo}, welches eine Änderung rückgängig macht. 
\paragraph{Vorteile}
Die Bedienung ist intuitiver geworden und ermöglicht es, schnell zwischen den 
verschiedenen Datentypen zu wechseln, ohne bestehende Änderungen zu verlieren.
Auch zwischen Objekten desselben Datentypes kann leicht gewechselt werden und 
diese sind dadurch gut vergleichbar.
Die Funktion, eine Änderung rückgängig zu machen, ermöglicht es, Algorithmen auszuprobieren
und danach die ursprünglichen Daten ohne viel Aufwand wieder herzustellen.

Alle vorgenommen Einstellungen, wie css-Stylesheets 
oder das Symbol für das leere Wort, werden gespeichert, so dass eine komfortable, persönliche Modifizierung möglich ist.
\begin{figure}[htbp]
	\centering
	\includegraphics[width=1\textwidth]{bilder/gui.png}
	\caption{Die GUI der Toolbox 2.0}
	\label{img:gui}
\end{figure}


\subsection{Feature-Übersicht}
Im Folgenden werden die neuen Features kurz erklärt. Hierbei geht es hauptsächlich um die Ausführung der Befehle, eine genaue Erklärung der Algorithmen findet sich in Kapitel \ref{sec:theorie}.

\subsubsection{Ausgabe}
Damit die Durchführung der Algorithmen transparent ist, ist eine dokumentierte Ausführung möglich. Hierbei wurden die Algorithmen in Schritte eingeteilt, die sich an den Schritten der Algorithmen in \cite{Rot16} orientieren. Auf Wunsch ist eine Ausgabe dieser Dokumentation möglich.\hfill \\
An dieser Stelle sei bemerkt, dass es in der vorgebebenen Zeit nicht möglich war, für alle bereits bestehenden Funktionen einen Ausgabe zu erstellen.


Für die Ausgabe gibt es den sogenannnten \textit{Printmodus}. Dieser hat drei Zustände: \textit{no, console} und \textit{latex}. 
Im Modus \textit{no} erfolgt keine Ausgabe, im Modus \textit{console} erfolgt eine Ausgabe auf die Konsole und im Modus \textit{latex} eine \LaTeX-konforme Ausgabe in eine kompilierbare \LaTeX -Datei.
Printmodus \textit{no} und \textit{console} werden durch den Befehl \textit{print-mode type} aufgerufen.
Die \textit{GUI} befindet sich standardmäßig im Printmodus \textit{no}.

Der Printmodus \textit{Latex} besitzt dabei einige Besonderheiten, auf die im nächsten Abschnitt genauer eingegangen wird.
\paragraph{\LaTeX}
Kombilierbarer \LaTeX -Code wird nur erzeugt, wenn die Toolbox sich im Printmodus \textit{latex} befindet.Dieser muss manuell gestartet und auch wieder beendet werden.
Der Printmodus \textit{latex} wird über das Kommando \textit{print-mode latex path/to/file} (oder in der GUI über \textit{Export $\rightarrow$ Latex $\rightarrow$ Start Latex Export}) gestartet. Das Beenden des \LaTeX -Modus geschieht durch den Wechsel in einen anderen \textit{Printmodus}
per Konsolenbefehl \textit{print-mode no} oder \textit{print-mode console}, durch das Öffnen oder Schließen der GUI
oder in der GUI über  \textit{Export $\rightarrow$ Latex $\rightarrow$ End Latex Export}.

Während das Programm im Printmodus \textit{latex} ist, werden alle durchgeführten Befehle mit Ausgabe in die ausgewählte Datei geschrieben. 

\subsubsection{Grammatiken}
\paragraph{Entfernen von $\lambda$-Regeln}
$\lambda$-Regeln sind Regeln der Form $A \rightarrow \lambda$. $\lambda$-Regeln lassen sich per SimpleFunctionPlugin \textit{Remove $\lambda$-Rules} oder per Konsolenbefehl \textit{rlr} entfernen.
\paragraph{Entfernen von einfachen Regeln}
Einfache Regeln (\textit{Unit Rules}) sind Regeln der Form $A \rightarrow B$. Sie lassen sich per SimpleFunctionPlugin \textit{Eliminate Unit Rules} oder per Konsolenbefehl \textit{eur} entfernen.
\paragraph{Chomsky-Normal-Form (CNF)}
Die CNF ist eine Normalform, die nach dem Linguisten Noam Chomsky benannt ist. Eine Grammatik lässt sich per SimpleFunctionPlugin \textit{CNF} oder per Konsolenbefehl \textit{cnf} in CNF umformen.
\paragraph{CYK-Algorithmus}
Der CYK-Algorithmus löst in kubischer Zeit das Wortproblem für kontextfreie Sprachen. Der CYK-Algorithmus wurde über ein ComplexFunctionPlugin implementiert. Hierzu muss im Bereich der ComplexFunctionPlugin der Tab ``CYK''' ausgewählt und in dem Textfeld das zu untersuchende Wort eingegeben werden. Zu Beachten ist, dass die einzelnen Buchstaben durch Leerzeichen getrennt werden müssen. Der Button ``Go''' startet den Algorithmus.
\paragraph{Vereinfachung}
Per SimpleFunctionPlugin lässt sich eine Grammatik vereinfachen. Hierbei werden Nichtterminale erkannt und entfernt, die redundant, nicht erreichbar oder ohne weiterführende Regeln sind. Falls die Grammatik in Chomsky-Normalform ist, bleibt diese Eigenschaft bestehen.
\paragraph{Umwandlung in Kellerautomat}
Eine Grammatik lässt sich per SimpleFunctionPlugin \textit{To PDA} oder Konsolenbefehl \textit{topda} in einen Kellerautomaten umwandeln.
\paragraph{Interaktives Ableiten (nur GUI)}
Als ComplexFunctionPlugin wurde die Möglichkeit implementiert, eine interaktive Ableitung zu erstellen. %todo

\subsubsection{Kellerautomaten}
kellerautomaten wurden als neuer Datentyp eingeführt, da sie die kontextfreien Grammatiken gut ergänzen auf Grund der bestehenden Äquivalenzbeziehung.
\paragraph{Umwandeln in Grammatik}
Ein Kellerautomat lässt sich per SimpleFunctionPlugin \textit{To Grammar} oder Konsolenbefehl \textit{togrammar} in eine äquivalente Grammatik umwandeln
\paragraph{ Bearbeitung (nur GUI)} 
Die Regeln eines Kellerautomatens sind durch \textit{Buttons} dargestellt. Durch Rechtsklick oder Doppelklick auf eine Regel, öffnet sich ein sich zunächst ein Menü, in dem ausgewählt werden kann, ob die Regel bearbeitet oder gelöscht werden soll. Wählt man Ersteres, öffner sich ein Dialog zum Bearbeiten.
\paragraph{Schritt-für-Schritt Durchlauf (nur GUI)} 
Das ComplexFunctionPlugin ``Check String''' liefert dem Benutzer die Möglichkeit, interaktiv zu prüfen, ob ein Wort in der Sprache des Automaten liegt. Hierfür bietet das Plugin ein Textfeld und einen ``Start'''- und ``Undo'''-Button an. In das Textfeld muss das Wort eingegeben werden, auch hier wieder Trennung der Buchstaben durch Leerzeichen. Der Button ``Start''' startet das Plugin. Nun verändern sich die Buttons, die die Regeln des Automatens darstellen. Es sind immer nur die Regel auswählbar, die auch tatsächlich auf den aktuellen Input und \textit{Top of Stack} passen. Durch Klick auf eine Regel wird diese angewandt. Dies kann so lange gemacht werden, bis ein Pfad gefunden wurde, oder keine Regel mehr anwendbar ist.


\subsection{Sonstiges}
\begin{itemize}
\item Der Hilfe-Text (aufrufbar durch den Konsolenbefehl \textit{help}) wurde so formatiert, dass er übersichtlicher ist.
Hierzu gehörte das Einrücken der Beschreibungen und eine Sortierung nach dem Alphabet.
\item Das leere Wort wird nun nicht mehr als Bestandteil der Terminalmenge angezeigt. Auch beim Parser einer Grammatik muss das leere Wort nicht mehr in der Terminalmenge inkludiert werden.
\item "`epsilon"', "`lambda"' und "`->"' wurden in der GUI durch entsprechende ASCII-Zeichen ersetzt.
\item durch "`u"' und "`d"' lässt sich die Schrift in der GUI vergrößern bzw. verkleinern.
\item in der GUI gibt es jetzt Tooltips, die die Bedienung erklären. 
\end{itemize}